<!-- 引入公共头部    ***********************start**************************** -->
<!-- 引入公共头部    ***********************end**************************** -->
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <div class="container">
        <h4 class="main-title">菜单内容管理</h4>
        <form id="queryForm">
			<div class="row query-box">
				<div class="col-xs-5 box-sm" style="width: 26%;">
					名称：
					<input class="large" type="text" value="" id="queryName" name="name" placeholder="请输入名称"style="width:200px;height: 27px;" />
				</div>
				<div class="col-xs-5 box-md" style="width: 30%;">
					菜单类型：<select id="queryType" name="type"  style="width:200px;height: 27px;">   
						        <option value="">---请选择---</option>   
						        <option value="menu">菜单</option>   
						        <option value="subscribe">关注语</option>
							</select>
				</div>

			</div>
		</form>
		<div class="row" style=" background: rgba(0,0,0,0);">
			<div class="col-xs-2 box-bt" style="width: 100%;">
				<input type="button" class="btn btn-primary" style="margin:0" id="querySubmit" value="查 询"/>
				 <span class="btn btn-primary" data-toggle="modal" data-target="#myModal">新增</span>
	       		 <span class="btn btn-primary" id="editWXNewsTemplatesBtn" data-toggle="modal" data-target="#myModal1">编辑</span>
	
				<input type="button" class="btn btn-default" style="" id="resetBtn" value="重置"/>
				<span id="showViewBtn" data-toggle="modal" data-target="#myModal2"></span>
			</div>
		</div>


		
        <div class="excel-wrap" style="margin-bottom: 20px;">
            <div id="demo"></div>
            <div class="info-wrap">
                <div style="margin-top: 10px;">
                    <div class="info-item-box fl" style="width:100%;min-height: 515px;">
                        <div class="info-item-title">
                            菜单内容管理信息
                        </div>
                        <div class="info-item-content">
                            <table id="wXNewsTemplatesListTable" class="table border-table table-hover table-striped align-center-table" style="width:96%">
                         <!-- 动态显示列表 -->
                            </table>
                            <div class="page-box" style="width: 97%;margin:0 auto" >
                                <span style="float:left" class="pagination" id="totalNum" ></span>
                                <ul style="float: right;" id="pagination"></ul>
                            </div>
                        </div>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
        </div>
        
    </div>
</div>
<div class="modal fade" id="myModal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <form id="addWXNewsTemplatesForm">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">添加菜单内容</h4>
            </div>
            <div class="modal-body">
                <div class="info-item-content">
                    <table class="wide-table table">
                    	<tr>
							<td style="border: none;">
								<span class="red">* </span>名称：
								<div class="input-wrap">
									<input type="text" id="name" name="name" value="" class="fluid-input"  required="true" />
								</div>
							</td>
						</tr>
                        <tr>
							<td style="border: none;">
									<!-- <input type="hidden" id="type" name="type" value="" class="fluid-input"/> -->
								<span class="red">* </span>模板类型：
								<div class="input-wrap"> 
									<select id="type" name="type"  style="width:100%"  required="true" >   
								         <option value="">---请选择---</option>   
								        <option value="menu">菜单</option>   
								        <option value="subscribe">关注语</option>
									</select>
								</div>
							</td>
						</tr>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <span type="button" class="btn" id="saveWXNewsTemplatesBtn">保存</span>
                <span type="button" class="btn"  data-dismiss="modal">取消</span>
            </div>
        </div>
    </div>
  </form>
</div>
<div class="modal fade" id="myModal1"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <form id="editWXNewsTemplatesForm">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">编辑菜单内容</h4>
            </div>
            <div class="modal-body">
                <div class="info-item-content">
                    <table class="wide-table table">
                    	<tr>
							<td style="border: none;">
								名称：
								<div class="input-wrap">
									<input type="text" id="edit-name" name="name" value="" class="fluid-input" required/>
								</div>
							</td>
						</tr>
                           <tr>
							<td style="border: none;">
								模板类型：
								<div class="input-wrap">
									<select id="edit-type" name="type"  style="width:100%" required>   
								        <option value="">---请选择---</option>   
								        <option value="menu">菜单</option>   
								        <option value="subscribe">关注语</option>
									</select>
								</div>
							</td>
						</tr>
						<!-- 隐藏主键 -->
						<input type="hidden" id="edit-newsTempId" name="newsTempId" value="" />
						
                   </table>
               </div>
            </div>
            <div class="modal-footer">
                <span type="button" class="btn" id="edit-saveWXNewsTemplatesBtn">保存</span>
                <span type="button" class="btn"  data-dismiss="modal">取消</span>
            </div>
        </div>
    </div>
  </form>
</div>
<!-- 预览弹出页面 -->
<div class="modal fade" id="myModal2"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
		 <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
		 </div>
		<div class="modal-body" id='preViewDiv' style="background-color:lightgray">
		</div>
		</div>
	</div>
</div>

<!-- 公共提示弹窗 -->
<div id="alert-info" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content" id="alert-info-content" ></div>
  </div>
</div>

<script id="wXNewsTemplates-list-template" type="text/x-handlebars-template">
	<tbody>
		<form>
			<thead style="background-color: #dcdcdc;">
				<tr>
					<th>序号</th>
					<th><!-- <input type="checkbox" onclick="selAll()" name="selectAll" id="selectAll"/>--></th>
					<th>名称</th>
					<th>模板类型</th>
					<th style="display:none">主键ID</th>
					<th>内容</th>
					<th>创建时间</th>
					<th style="display:none">创建人</th>
					<th>操作</th>
				</tr>
			</thead>
		
	  {{#each this}}
		<tr>
        	<td>{{ORACLESTART}}</td>
			<td><input type="radio" onclick="seltable()" name="selectOne" id="selectOne" value="{{newsTempId}}"/></td>
			<td>{{name}}</td>
			<td>{{transformat type}}</td>
			<td style="display:none">{{newsTempId}}</td>
			<td>
				[<a href="javascript:void(0)" data-id="{{newsTempId}}"  class="previewBtn">预览内容</a>]
			</td>
			<td>{{createTime}}</td>
			<td style="display:none">{{createUser}}</td>
			<td>[<a href="javascript:void(0)" onclick="delWXNewsTemplates('{{newsTempId}}')">删除</a>]
			[<a href="javascript:void(0)" onclick="C.load('${req.contextPath}/wx/newstemplates/newsItemAdd?newsTempId={{newsTempId}}')">添加图文</a>]
			[<a href="javascript:void(0)" onclick="C.load('${req.contextPath}/wx/newstemplates/newsItemEdit?newsTempId={{newsTempId}}')">查看图文</a>]</td>
    	</tr> 
	  {{/each}}
	</form>
	</tbody>
</script>

<!-- /.content-wrapper -->
<!-- 引入公共JS资源文件  -->
<!-- 功能模块JS文件  -->
<script src="${req.contextPath}/assets/js/weixin/newstemplates-list.js"></script>
<!-- 引入公共底部     -->

